interactions:
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://api.gandi.net/v5/livedns/domains/t18s.fr
  response:
    body:
      string: '{"domain_keys_href":"https://api.gandi.net/v5/livedns/domains/t18s.fr/keys","fqdn":"t18s.fr","automatic_snapshots":true,"domain_records_href":"https://api.gandi.net/v5/livedns/domains/t18s.fr/records","domain_href":"https://api.gandi.net/v5/livedns/domains/t18s.fr"}'
    headers:
      Accept-Ranges:
      - bytes
      Age:
      - '0'
      Cache-Control:
      - max-age=0, must-revalidate, no-cache, no-store
      Connection:
      - keep-alive
      Content-Length:
      - '274'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 22 Oct 2020 21:23:44 GMT
      ETag:
      - W/"112-tyQllSkZqMzGHTaisDLSgpwZtfY"
      Expires:
      - Thu, 22 Oct 2020 21:23:44 GMT
      Last-Modified:
      - Thu, 22 Oct 2020 21:23:44 GMT
      Pragma:
      - no-cache
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=15768000;
      Vary:
      - Accept-Encoding, Accept-Language
      Via:
      - 1.1 varnish-v4, 1.1 varnish-v4
      X-Cache:
      - MISS
      X-Cache-Hits:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://api.gandi.net/v5/livedns/domains/t18s.fr/records/random.fqdntest/TXT
  response:
    body:
      string: '{"code": 404, "message": "Can''t find the DNS record random.fqdntest/TXT
        in the zone", "object": "dns-record", "cause": "Not Found"}'
    headers:
      Age:
      - '0'
      Cache-Control:
      - max-age=0, must-revalidate, no-cache, no-store
      Connection:
      - keep-alive
      Content-Length:
      - '131'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Thu, 22 Oct 2020 21:23:44 GMT
      Expires:
      - Thu, 22 Oct 2020 21:23:44 GMT
      Last-Modified:
      - Thu, 22 Oct 2020 21:23:44 GMT
      Pragma:
      - no-cache
      Server:
      - nginx
      Via:
      - 1.1 varnish-v4, 1.1 varnish-v4
      X-Cache:
      - MISS
      X-Cache-Hits:
      - '0'
    status:
      code: 404
      message: Not Found
- request:
    body: '{"rrset_values": ["challengetoken"], "rrset_ttl": 3600}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '55'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.22.0
    method: POST
    uri: https://api.gandi.net/v5/livedns/domains/t18s.fr/records/random.fqdntest/TXT
  response:
    body:
      string: '{"message":"DNS Record Created"}'
    headers:
      Age:
      - '0'
      Cache-Control:
      - max-age=0, must-revalidate, no-cache, no-store
      Connection:
      - keep-alive
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 22 Oct 2020 21:23:45 GMT
      ETag:
      - W/"20-8GzTjxqNVdrkc6ay0Gf8zJRLVdc"
      Expires:
      - Thu, 22 Oct 2020 21:23:45 GMT
      Last-Modified:
      - Thu, 22 Oct 2020 21:23:45 GMT
      Pragma:
      - no-cache
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=15768000;
      Vary:
      - Accept-Encoding, Accept-Language
      Via:
      - 1.1 varnish-v4, 1.1 varnish-v4
      X-Cache:
      - MISS
      X-Cache-Hits:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-XSS-Protection:
      - 1; mode=block
      location:
      - https://api.gandi.net/v5/livedns/domains/t18s.fr/records/random.fqdntest/TXT
    status:
      code: 201
      message: Created
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://api.gandi.net/v5/livedns/domains/t18s.fr/records/random.fqdntest/TXT
  response:
    body:
      string: '{"rrset_type":"TXT","rrset_ttl":3600,"rrset_name":"random.fqdntest","rrset_href":"https://api.gandi.net/v5/livedns/domains/t18s.fr/records/random.fqdntest/TXT","rrset_values":["\"challengetoken\""]}'
    headers:
      Accept-Ranges:
      - bytes
      Age:
      - '0'
      Cache-Control:
      - max-age=0, must-revalidate, no-cache, no-store
      Connection:
      - keep-alive
      Content-Length:
      - '200'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 22 Oct 2020 21:23:45 GMT
      ETag:
      - W/"c8-ovPXuEx9z0o3W41nk4AIYU0JPHE"
      Expires:
      - Thu, 22 Oct 2020 21:23:45 GMT
      Last-Modified:
      - Thu, 22 Oct 2020 21:23:45 GMT
      Pragma:
      - no-cache
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=15768000;
      Vary:
      - Accept-Encoding, Accept-Language
      Via:
      - 1.1 varnish-v4, 1.1 varnish-v4
      X-Cache:
      - MISS
      X-Cache-Hits:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
version: 1
