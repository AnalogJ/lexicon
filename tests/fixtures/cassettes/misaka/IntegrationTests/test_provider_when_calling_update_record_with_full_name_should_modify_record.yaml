interactions:
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/settings
  response:
    body:
      string: '{"id":1957,"name":"misaka-dns-test.stream","friendly_name":"misaka-dns-test.stream","comment":"","email":"support+dev.lexicon@misaka.io","expiry":604800,"nxdomain_ttl":180,"default_ttl":600,"refresh":3600,"retry":600,"serial":2020090532,"managed_soa":true,"managed_acme":false,"enabled":true,"dirty":false,"created":"2020-09-03T14:23:24.007624Z","modified":"2020-09-05T22:31:14.192993Z","owner":698}'
    headers:
      Allow:
      - GET, POST, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce3664c89a90aa0-NRT
      Cf-Railgun:
      - e95d8a3d03 9.27 0.028901 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:31:17 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d40642808c9680071cdc20e0915471c1f1599345077; expires=Mon, 05-Oct-20
        22:31:17 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - 8855f98afe150da5c5950cf60f8964d2
      X-Served-By:
      - portal-665f9b85dd-fdzmd
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fe43d600000aa0e61f3200000001
      content-length:
      - '399'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/orig.testfull/TXT
  response:
    body:
      string: '{"detail":"Not found."}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce366504ee7f8af-NRT
      Cf-Railgun:
      - 515baaf94b stream 0.000000 0210 da0c
      Connection:
      - keep-alive
      Content-Length:
      - '23'
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:31:18 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d270c56d245c4de2ba018947bfc835d781599345077; expires=Mon, 05-Oct-20
        22:31:17 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - 85af2a7cf36931ba02f47dfe53b5799d
      X-Served-By:
      - portal-665f9b85dd-xnrfp
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fe46280000f8afa4230200000001
    status:
      code: 404
      message: Not Found
- request:
    body: '{"ttl": 3600, "filters": [], "records": [{"value": "challengetoken"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '70'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: POST
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/orig.testfull/TXT
  response:
    body:
      string: '{"name":"orig.testfull","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce36653dec20b9b-NRT
      Cf-Railgun:
      - b45136dcc8 stream 0.000000 0210 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:31:18 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d18261dad6b1b7a45527fa0ad53fc736d1599345078; expires=Mon, 05-Oct-20
        22:31:18 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - cc8cbb686444e07a90266cddf027f2f1
      X-Served-By:
      - portal-665f9b85dd-xnrfp
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fe486b00000b9be51aa200000001
      content-length:
      - '146'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets?name=orig.testfull
  response:
    body:
      string: '{"count":20,"next":null,"previous":null,"results":[{"name":"@","type":"NS","ttl":86400,"enabled":true,"protected":false,"alias":null,"records":[{"value":"a.m1ns.moe"},{"value":"b.m1ns.uk"},{"value":"c.m1ns.us"},{"value":"d.m1ns.com"},{"value":"e.m1ns.net"},{"value":"f.m1ns.org"}],"filters":[]},{"name":"_acme-challenge.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"docs","type":"CNAME","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"docs.example.com"}],"filters":[]},{"name":"random.fqdntest","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.createrecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]},{"name":"random.fulltest","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.noop","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"test","type":"A","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"1.1.1.5"}],"filters":[]},{"name":"random.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.fqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"localhost","type":"A","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"127.0.0.1"}],"filters":[]},{"name":"updated.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.deleterecordinset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken2"}],"filters":[]},{"name":"ttl.fqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"ttlshouldbe3600"}],"filters":[]},{"name":"_acme-challenge.listrecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]},{"name":"updated.testfqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"updated.testfull","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.full","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"@","type":"SOA","ttl":86400,"enabled":true,"protected":false,"alias":null,"records":[{"value":"a.m1ns.moe.
        support+dev.lexicon.misaka.io. 2020090533 3600 600 604800 180"}],"filters":[]},{"name":"orig.testfull","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]}]}'
    headers:
      Allow:
      - GET, POST, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce36657cffd9425-NRT
      Cf-Railgun:
      - 9f621b63b5 3.88 0.026481 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:31:19 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d20b5dfe0816f7d7e8587ae45139d5e8a1599345079; expires=Mon, 05-Oct-20
        22:31:19 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - 50de702c05e6c8f22bce58591efdc09d
      X-Served-By:
      - portal-665f9b85dd-tpmmv
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fe4add00009425401a7200000001
      content-length:
      - '3247'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/orig.testfull/TXT
  response:
    body:
      string: '{"name":"orig.testfull","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce3665b8becef81-NRT
      Cf-Railgun:
      - 193ebbf318 99.99 0.031497 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:31:19 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d0239bc8b776b3d45436bc8c020e6360b1599345079; expires=Mon, 05-Oct-20
        22:31:19 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - f323c70b0f6f84d67e6699db45166593
      X-Served-By:
      - portal-665f9b85dd-2nslc
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fe4d380000ef815232a200000001
      content-length:
      - '146'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/updated.testfull/TXT
  response:
    body:
      string: '{"name":"updated.testfull","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce3665f4c4a1da7-NRT
      Cf-Railgun:
      - 35dd32bb61 stream 0.000000 0210 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:31:20 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d78b927a234f7ae87c47287972d6a80891599345080; expires=Mon, 05-Oct-20
        22:31:20 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - ad44329ed2cd1b91e4e8aeb29592d202
      X-Served-By:
      - portal-665f9b85dd-n8dgg
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fe4f8b00001da747bf8200000001
      content-length:
      - '149'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: DELETE
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/orig.testfull/TXT
  response:
    body:
      string: '{"detail":"Object deleted."}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce3666348250ab8-NRT
      Cf-Railgun:
      - 73d3afd7ca 99.99 0.031045 0030 da0c
      Connection:
      - keep-alive
      Content-Length:
      - '28'
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:31:21 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d3d2c8c08e36c15295566b3b56a29fa8d1599345080; expires=Mon, 05-Oct-20
        22:31:20 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - a0f6bd70c0ea5c87437968a5ebba7cad
      X-Served-By:
      - portal-665f9b85dd-s7v7s
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fe520f00000ab8dd36b200000001
    status:
      code: 202
      message: Accepted
version: 1
