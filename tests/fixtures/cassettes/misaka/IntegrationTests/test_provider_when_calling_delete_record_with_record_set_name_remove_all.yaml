interactions:
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/settings
  response:
    body:
      string: '{"id":1957,"name":"misaka-dns-test.stream","friendly_name":"misaka-dns-test.stream","comment":"","email":"support+dev.lexicon@misaka.io","expiry":604800,"nxdomain_ttl":180,"default_ttl":600,"refresh":3600,"retry":600,"serial":2020090526,"managed_soa":true,"managed_acme":false,"enabled":true,"dirty":false,"created":"2020-09-03T14:23:24.007624Z","modified":"2020-09-05T22:30:45.237401Z","owner":698}'
    headers:
      Allow:
      - GET, POST, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce3658b8a46a5f4-NRT
      Cf-Railgun:
      - 84d37c9f5a 9.52 0.024825 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:46 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d5cad54dea431fd00341e6d230f8b33ab1599345046; expires=Mon, 05-Oct-20
        22:30:46 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - b1980c113273252dfc5e5f0a0edca46d
      X-Served-By:
      - portal-665f9b85dd-tpmmv
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdcb310000a5f4c0943200000001
      content-length:
      - '399'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/_acme-challenge.deleterecordset/TXT
  response:
    body:
      string: '{"detail":"Not found."}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce3658f5bd20b9b-NRT
      Cf-Railgun:
      - f24edcb9f5 stream 0.000000 0210 da0c
      Connection:
      - keep-alive
      Content-Length:
      - '23'
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:47 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=daa18729e898d529ab581bc2811efdac51599345046; expires=Mon, 05-Oct-20
        22:30:46 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - 9c8277a30cc85c30d35d4ed5e02a3234
      X-Served-By:
      - portal-665f9b85dd-2nslc
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdcd9200000b9beb09d200000001
    status:
      code: 404
      message: Not Found
- request:
    body: '{"ttl": 3600, "filters": [], "records": [{"value": "challengetoken1"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '71'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: POST
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/_acme-challenge.deleterecordset/TXT
  response:
    body:
      string: '{"name":"_acme-challenge.deleterecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce365931d6d1d6b-NRT
      Cf-Railgun:
      - 7a1bcefa98 stream 0.000000 0210 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:47 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=dec4e5b9d545b3b53655d91d4e984f6341599345047; expires=Mon, 05-Oct-20
        22:30:47 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - 147ed456e35cc858b23a11d2288b26ff
      X-Served-By:
      - portal-665f9b85dd-n8dgg
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdcff300001d6b2fa02200000001
      content-length:
      - '165'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/_acme-challenge.deleterecordset/TXT
  response:
    body:
      string: '{"name":"_acme-challenge.deleterecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce36596fb3bef55-NRT
      Cf-Railgun:
      - 7ebc41f09c 99.99 0.029602 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:48 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d0ab3af114406fed338c77396ffb833121599345048; expires=Mon, 05-Oct-20
        22:30:48 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - fa7bd262b78374d775789dc62208ceea
      X-Served-By:
      - portal-665f9b85dd-s7v7s
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdd25d0000ef559e25e200000001
      content-length:
      - '165'
    status:
      code: 200
      message: OK
- request:
    body: '{"ttl": 3600, "records": [{"value": "challengetoken1"}, {"value": "challengetoken2"}],
      "filters": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '101'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: PUT
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/_acme-challenge.deleterecordset/TXT
  response:
    body:
      string: '{"name":"_acme-challenge.deleterecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce3659ac968a510-NRT
      Cf-Railgun:
      - 0abf41e068 stream 0.000000 0210 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:49 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d302436869d7804b7e732c5585fee504a1599345048; expires=Mon, 05-Oct-20
        22:30:48 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - d1af6406aea3e9ea3fb861ed62f5ecfe
      X-Served-By:
      - portal-665f9b85dd-wvq5t
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdd4bf0000a510e13df200000001
      content-length:
      - '193'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/_acme-challenge.deleterecordset/TXT
  response:
    body:
      string: '{"name":"_acme-challenge.deleterecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce3659eb82d9515-NRT
      Cf-Railgun:
      - ac25927616 24.87 0.028960 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:49 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d6f800a1110e29a2d5467da53a4b8a2d01599345049; expires=Mon, 05-Oct-20
        22:30:49 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - 267ac5cded9184f36073a3cbd60c2fbc
      X-Served-By:
      - portal-665f9b85dd-spngm
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdd73100009515b13c8200000001
      content-length:
      - '193'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: DELETE
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/_acme-challenge.deleterecordset/TXT
  response:
    body:
      string: '{"detail":"Object deleted."}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce365a2aeab1d5f-NRT
      Cf-Railgun:
      - 93da475588 99.99 0.031164 0030 da0c
      Connection:
      - keep-alive
      Content-Length:
      - '28'
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:50 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=db31b0a5b7565fc19e231e6fc2ba288ce1599345050; expires=Mon, 05-Oct-20
        22:30:50 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - adcf53201bde0ad8d585e97512b0a69c
      X-Served-By:
      - portal-665f9b85dd-7x4gl
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdd9a400001d5f0416f200000001
    status:
      code: 202
      message: Accepted
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets?name=_acme-challenge.deleterecordset
  response:
    body:
      string: '{"count":19,"next":null,"previous":null,"results":[{"name":"@","type":"NS","ttl":86400,"enabled":true,"protected":false,"alias":null,"records":[{"value":"a.m1ns.moe"},{"value":"b.m1ns.uk"},{"value":"c.m1ns.us"},{"value":"d.m1ns.com"},{"value":"e.m1ns.net"},{"value":"f.m1ns.org"}],"filters":[]},{"name":"_acme-challenge.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"docs","type":"CNAME","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"docs.example.com"}],"filters":[]},{"name":"random.fqdntest","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.createrecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]},{"name":"random.fulltest","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.noop","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"test","type":"A","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"1.1.1.5"}],"filters":[]},{"name":"random.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.fqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"localhost","type":"A","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"127.0.0.1"}],"filters":[]},{"name":"updated.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.deleterecordinset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken2"}],"filters":[]},{"name":"ttl.fqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"ttlshouldbe3600"}],"filters":[]},{"name":"_acme-challenge.listrecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]},{"name":"updated.testfqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"updated.testfull","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.full","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"@","type":"SOA","ttl":86400,"enabled":true,"protected":false,"alias":null,"records":[{"value":"a.m1ns.moe.
        support+dev.lexicon.misaka.io. 2020090528 3600 600 604800 180"}],"filters":[]}]}'
    headers:
      Allow:
      - GET, POST, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce365a65983ef5d-NRT
      Cf-Railgun:
      - 9d8724cd63 2.41 0.026991 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:50 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d2878f76a0f680af2c59e5348cf40827f1599345050; expires=Mon, 05-Oct-20
        22:30:50 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - d1884bc943e826aee64db9aa78da1bf2
      X-Served-By:
      - portal-665f9b85dd-5qxrx
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fddbf90000ef5db788f200000001
      content-length:
      - '3100'
    status:
      code: 200
      message: OK
version: 1
