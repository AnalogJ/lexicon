interactions:
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/settings
  response:
    body:
      string: '{"id":1957,"name":"misaka-dns-test.stream","friendly_name":"misaka-dns-test.stream","comment":"","email":"support+dev.lexicon@misaka.io","expiry":604800,"nxdomain_ttl":180,"default_ttl":600,"refresh":3600,"retry":600,"serial":2020090528,"managed_soa":true,"managed_acme":false,"enabled":true,"dirty":false,"created":"2020-09-03T14:23:24.007624Z","modified":"2020-09-05T22:30:48.919481Z","owner":698}'
    headers:
      Allow:
      - GET, POST, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce365b55ac8ef8a-NRT
      Cf-Railgun:
      - 4b76712c8f 9.02 0.036461 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:53 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=dcc161c9aab5e1a6225d7ae1d9ad81b2b1599345053; expires=Mon, 05-Oct-20
        22:30:53 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - 1b8767816d16f4e13fe342b996c9cfe4
      X-Served-By:
      - portal-665f9b85dd-2nslc
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fde55a0000ef8a5b0a6200000001
      content-length:
      - '399'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/_acme-challenge.listrecordset/TXT
  response:
    body:
      string: '{"name":"_acme-challenge.listrecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce365b90c85f90f-NRT
      Cf-Railgun:
      - direct (starting new WAN connection)
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:54 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=ddad76800bd28a3dbd5ce0aa48f7b846e1599345053; expires=Mon, 05-Oct-20
        22:30:53 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.131.233
      X-Request-Id:
      - b6a50ac2f4c8fd6405958f54b19b59dc
      X-Served-By:
      - portal-665f9b85dd-2nslc
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fde7a50000f90f341c7200000001
      content-length:
      - '191'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets/_acme-challenge.listrecordset/TXT
  response:
    body:
      string: '{"name":"_acme-challenge.listrecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]}'
    headers:
      Allow:
      - GET, POST, PUT, DELETE, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce365c02e91ef7d-NRT
      Cf-Railgun:
      - ad2b119919 stream 0.000000 0210 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:54 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d898d81b470dab3810e7937d50e282c3f1599345054; expires=Mon, 05-Oct-20
        22:30:54 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - f8bbd3ff21511c4a725ffedc2235fb5b
      X-Served-By:
      - portal-665f9b85dd-n8dgg
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdec1a0000ef7d3f348200000001
      content-length:
      - '191'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.24.0
    method: GET
    uri: https://api.misaka.io/dns/zones/misaka-dns-test.stream/recordsets?name=_acme-challenge.listrecordset
  response:
    body:
      string: '{"count":19,"next":null,"previous":null,"results":[{"name":"@","type":"NS","ttl":86400,"enabled":true,"protected":false,"alias":null,"records":[{"value":"a.m1ns.moe"},{"value":"b.m1ns.uk"},{"value":"c.m1ns.us"},{"value":"d.m1ns.com"},{"value":"e.m1ns.net"},{"value":"f.m1ns.org"}],"filters":[]},{"name":"_acme-challenge.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"docs","type":"CNAME","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"docs.example.com"}],"filters":[]},{"name":"random.fqdntest","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.createrecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]},{"name":"random.fulltest","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.noop","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"test","type":"A","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"1.1.1.5"}],"filters":[]},{"name":"random.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.fqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"localhost","type":"A","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"127.0.0.1"}],"filters":[]},{"name":"updated.test","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.deleterecordinset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken2"}],"filters":[]},{"name":"ttl.fqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"ttlshouldbe3600"}],"filters":[]},{"name":"_acme-challenge.listrecordset","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken1"},{"value":"challengetoken2"}],"filters":[]},{"name":"updated.testfqdn","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"updated.testfull","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"_acme-challenge.full","type":"TXT","ttl":3600,"enabled":true,"protected":false,"alias":null,"records":[{"value":"challengetoken"}],"filters":[]},{"name":"@","type":"SOA","ttl":86400,"enabled":true,"protected":false,"alias":null,"records":[{"value":"a.m1ns.moe.
        support+dev.lexicon.misaka.io. 2020090528 3600 600 604800 180"}],"filters":[]}]}'
    headers:
      Allow:
      - GET, POST, HEAD, OPTIONS
      CF-Cache-Status:
      - DYNAMIC
      CF-RAY:
      - 5ce365c41b60ef55-NRT
      Cf-Railgun:
      - 6a4027876f 2.41 0.029187 0030 da0c
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Sat, 05 Sep 2020 22:30:55 GMT
      Expect-CT:
      - max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
      Referrer-Policy:
      - same-origin
      Server:
      - cloudflare
      Set-Cookie:
      - __cfduid=d39b7127b2db81fe3e2173ee6b9564a4f1599345055; expires=Mon, 05-Oct-20
        22:30:55 GMT; path=/; domain=.misaka.io; HttpOnly; SameSite=Lax; Secure
      Strict-Transport-Security:
      - max-age=2592000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      - Origin
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Misaka-Debug:
      - r=us-east-1, i=10.233.132.132
      X-Request-Id:
      - 13f916444b6c32ac4544121a0a4805f9
      X-Served-By:
      - portal-665f9b85dd-s7v7s
      alt-svc:
      - h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400
      cf-request-id:
      - 0501fdee8f0000ef55b0229200000001
      content-length:
      - '3100'
    status:
      code: 200
      message: OK
version: 1
